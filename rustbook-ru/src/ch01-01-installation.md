## Установка

Первым шагом является установка Rust. Мы загрузим Rust, используя инструмент командной строки `rustup`, предназначенный для управлениями версиями Rust и другими связанными с ним инструментами. Вам понадобится интернет соединение для его загрузки.

> Замечание: Если по каким-то причинам вы предпочтёте не использовать `rustup`, то загляните на страницу [the Rust installation] для других вариантов.

Следующие шаги позволяют установить самую последнюю стабильную версию компилятора Rust. Гарантии стабильности Rust дают возможность того, что все примеры книги будут компилироваться с более новыми версиями компилятора. Вывод сообщений может немного отличаться в зависимости от версии, потому что часто в Rust улучшают сообщения об ошибках и предупреждения. Другими словами, любая более новая, стабильная, установленная по этим шагам версия Rust, должна работать соответственно содержимому данной книги.

> ### Нотация командной строки
> В данной главе и потом во всей книге, мы показываем некоторые команды в терминале командной строки. Строки, которые нужно ввести в терминале начинаются с `$`. Но вам не нужно вводить сам символ `$`; он только отображает, что это начало каждой команды. Строки, которые НЕ начинаются с `$`, обычно показывают вывод выполнения предыдущей команды. В дополнение, примеры специфичные для PowerShell используют символ `>` вместо символа `$`.

### Установка `rustup` на Linux или macOS

Если вы используете Linux или Mac, пожалуйста, выполните следующую команду:

```text
$ curl https://sh.rustup.rs -sSf | sh
```

Команда скачивает скрипт, который начинает установку первого  инструмента `rustup`, предназначенного для дальнейшей установки последней стабильной версии Rust. Вас могут запросить ввести локальный пароль. При успешной установке вы увидите следующий вывод:

```text
Rust is installed now. Great!
```

Если хотите, можете скачать данный скрипт и изучить его перед запуском.

Установщик автоматически добавит папку с компонентами Rust в системную переменную PATH и их использование будет доступно из командной строки после следующего входа в систему. Если вы хотите сразу начать работу, то пожалуйста выполните следующую команду:

```text
$ source $HOME/.cargo/env
```

Как альтернатива, добавьте следующую строку в файл *~/.bash_profile*:

```text
$ export PATH="$HOME/.cargo/bin:$PATH"
```

Дополнительно нужен какой-то вариант программы "линковщика". Возможно какой-то у вас уже установлен. Если при попытке компиляции Rust программы вы получаете ошибки, что "линковщик" не смог загрузиться, то это означает, что он не установлен в системе и вам необходимо установить его вручную. Компиляторы языка C обычно имеют в своём составе корректный линковщик. Поищите как установить на вашу платформу компилятор языка C. Также, некоторые общие Rust пакеты зависят от C кода и им тоже будет необходим компилятор C. Так что, имеет смысл его поставить сейчас.

### Установка `rustup` на Windows

Для Windows, посетите ссылку [https://www.rust-lang.org/tools/install](https://www.rust-lang.org/tools/install) и следуйте инструкциям для установки Rust. На некотором шаге установки, вы можете получить сообщение объясняющее необходимость инструментов сборки C++ для Visual Studio 2013 или более поздней версии. Самый простой способ получить и инсталлировать [Build Tools for Visual Studio 2019]. Эти инструменты находятся в разделе "Other Tools and Frameworks".

Остальные части книги используют команды, работающие как в *cmd.exe*, так и в PowerShell. Есть некоторые отличия, которые мы объясним.

### Обновление и удаление

После установки Rust с помощью `rustup`, обновление на последние версии выполняется с помощью следующего простого скрипта командой:

```text
$ rustup update
```

Удалить Rust также просто, как и установить. Для этого необходимо выполнить команду:

```text
$ rustup self uninstall
```

### Устранение возможных ошибок

Проверка корректной установки и работы Rust-компилятора, откройте и введите:

```text
$ rustc --version
```

Вы должны увидеть версию компилятора, хэш-строку, дату последней стабильной версии обновления в формате:

```text
rustc x.y.z (abcabcabc yyyy-mm-dd)
```

Если вы видите данную информацию, то вы всё установили корректно. Если нет и вы используете Windows, проверьте что путь к Rust находится в системной переменной `%PATH%`. Если предыдущее корректно, но Rust всё ещё не работает, то есть множество мест на страницах которых можно получить помощь. Самое просто в канале #beginners [официального Rust Discord] сервера. Там можно списаться в другими пользователями Rust (Rustaceans - как мы себя называем), которые могут помочь. Другие хорошие ресурсы включают: пользовательский форум [Users forum] и ресурс [Stack Overflow].

### Локальная документация

Установка Rust также включает в себя копию локальной документации, для чтения без интернета. Запустите команду `rustup doc` для её открытия в браузере.

Если Вам необходимо найти описание типа или функции в стандартной библиотеке или вы не знаете, что она делает или как его использовать, то документация станет вашим верным помощником!


[the Rust installation]: https://www.rust-lang.org/tools/install
[Build Tools for Visual Studio 2019]: https://www.visualstudio.com/downloads/#build-tools-for-visual-studio-2019
[официального Rust Discord]: https://discord.gg/rust-lang
[Users forum]: https://users.rust-lang.org/
[Stack Overflow]: http://stackoverflow.com/questions/tagged/rust
