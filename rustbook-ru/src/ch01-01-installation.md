## Установка

Первым шагом является установка Rust. Мы загрузим Rust, используя инструмент командной строки `rustup`, предназначенный для управлениями версиями Rust и другими связанными с ним инструментами. Вам понадобится интернет соединение для его загрузки.

> Примечание: Если вы по каким-то причинам предпочитаете не использовать rustup, пожалуйста, посетите [страницу «Другие методы установки Rust»] для получения дополнительных опций.

Следующие шаги устанавливают последнюю стабильную версию компилятора Rust. Стабильность Rust гарантирует, что все примеры в книге, которые компилируются, будут продолжать компилироваться с более новыми версиями Rust. Вывод (данных) может немного отличаться в разных версиях, поскольку Rust часто улучшает сообщения об ошибках и предупреждениях. Другими словами, любая более новая, стабильная версия Rust, устанавливаемая с помощью этих шагов, должна работать в соответствии с содержанием этой книги.

> ### Условные обозначения командной строки
>
> В этой главе и на протяжении всей книги мы демонстрируем команды в терминале. Все строки, которые вы должны вводить в терминал, начинаются с `$`. Вам не нужно вводить символ `$`; это указатель командной строки, отображаемый для указания начала каждой команды. Строки, не начинающиеся с `$`, обычно показывают результат предыдущей команды. Кроме того, в примерах, специфичных для PowerShell, будет использоваться `>` вместо `$`.

### Установка `rustup` на Linux или macOS

Если вы используете Linux или macOS, пожалуйста, выполните следующую команду:

```console
$ curl --proto '=https' --tlsv1.3 https://sh.rustup.rs -sSf | sh
```

Команда скачивает скрипт и начинает установку инструмента `rustup`, одновременно с установкой последней стабильной версии Rust. Вас могут запросить ввести локальный пароль. При успешной установке вы увидите следующий вывод:

```text
Rust is installed now. Great!
```

Вам также понадобится компоновщик - программа, которую Rust использует для объединения своих скомпилированных выходных данных в один файл. Скорее всего, он у вас уже есть. При возникновении ошибок компоновки, вам следует установить компилятор C, который обычно будет включать в себя и компоновщик. Компилятор C также полезен, потому что некоторые распространённые пакеты Rust зависят от кода C и нуждаются в компиляторе C.

На macOS вы можете получить компилятор C, выполнив команду:

```console
$ xcode-select --install
```

Пользователи Linux, как правило, должны устанавливать GCC или Clang в соответствии с документацией их дистрибутива. Например, при использовании Ubuntu можно установить пакет `build-essential`.

### Установка `rustup` на Windows

В Windows перейдите на [https://www.rust-lang.org/tools/install] и следуйте инструкциям по установке Rust. В какой-то момент установки вы получите сообщение о том, что вам также потребуются инструменты сборки MSVC для Visual Studio 2013 или более поздней версии. Чтобы получить инструменты сборки, вам необходимо установить [Visual Studio 2022]. Когда вас спросят, что именно установить, укажите:

- “Desktop Development with C++”
- The Windows 10 or 11 SDK
- Английский языковой пакет вместе с любым другим языковым пакетом по вашему выбору.

В остальной части этой книги используются команды, которые работают как в *cmd.exe*, так и в PowerShell. При наличии специфических различий мы объясним, что необходимо сделать в таких случаях.

### Устранение возможных ошибок

Чтобы проверить, правильно ли у вас установлен Rust, откройте оболочку и введите эту строку:

```console
$ rustc --version
```

Вы должны увидеть номер версии, хэш коммита и дату выпуска последней стабильной версии в следующем формате:

```text
rustc x.y.z (abcabcabc yyyy-mm-dd)
```

Если вы видите данную информацию, то вы установили всё успешно! Если вы не видите этой информации и используете Windows, проверьте, что путь к Rust находится в системной переменной `%PATH%`. Если он корректный, но Rust все ещё не работает, то есть множество мест, где можно получить помощь. Самое простое это канал #beginners [официального Rust Discord] сервера. Там вы можете пообщаться с другими Rustaceans (это наше шуточное прозвище), которые смогут вам помочь. Другие замечательные ресурсы включают [Пользовательский форум] и [Stack Overflow].

### Обновление и удаление

После установки Rust через `rustup` при выходе новой версии Rust обновление до последней версии не составит труда. В вашем терминале запустите следующий скрипт обновления:

```console
$ rustup update
```

Чтобы удалить Rust и `rustup`, выполните<br>следующую команду:

```console
$ rustup self uninstall
```

### Локальная документация

Установка Rust также включает в себя локальную копию документации, поэтому вы можете читать её в оффлайн режиме. Запустите `rustup doc`, чтобы открыть локальную документацию в браузере.

Каждый раз, когда есть какой-либо тип или какая-либо функция, предоставляемые стандартной библиотекой, а вы не знаете, что они делают и как их использовать, воспользуйтесь документацией по интерфейсу прикладного программирования (API) для поиска!


[страницу «Другие методы установки Rust»]: https://forge.rust-lang.org/infra/other-installation-methods.html
[https://www.rust-lang.org/tools/install]: https://www.rust-lang.org/tools/install
[Visual Studio 2022]: https://visualstudio.microsoft.com/downloads/
[официального Rust Discord]: https://discord.gg/rust-lang
[Пользовательский форум]: https://users.rust-lang.org/
[Stack Overflow]: https://stackoverflow.com/questions/tagged/rust